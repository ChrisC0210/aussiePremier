<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Assuie Premier</title>
  <link rel="shortcut icon" type="image/x-icon" href="./assets/img/ap-favicon.ico">
  <link rel="stylesheet" href="./dist/style/all.min.css">
</head>
<style>
  .btn:focus {
    outline: none;
  }

  .hidden {
    display: none;
  }

  .listed {
    padding-top: 10px;
    padding-bottom: 10px;
  }

  .p-top {
    padding-top: 7px;
  }

  .td-padding {
    padding-top: 15px !important;
  }

  .container {
    padding-top: 10px;
    padding-bottom: 10px;
    min-width: 480px;
    max-width: 768px;
  }

  .container-fluid {
    padding-bottom: 10px;
    margin-top: 1px;
    border: 1px solid #ccc;
    border-radius: 5px;
  }

  .paddingLF {
    padding-left: 15px;
    padding-right: 15px;
  }

  .inactiveLink {
    pointer-events: none;
    cursor: default;
  }

  .buttons-wrapper {
    display: inline-block;
  }
</style>

<body>
  <!-- header start -->
  <header Id='header-shadow'>
    <div class="main-nav container container-remove">
      <nav class=" container" role="navigation">
        <!-- Mobile menu toggle button (hamburger/x icon) -->
        <input id="main-menu-state" type="checkbox" />
        <label class="main-menu-btn" for="main-menu-state">
          <span class="main-menu-btn-icon"></span>
        </label>
        <h2 class="nav-brand ap-nav-logo-margin">
          <a href="./">
            <img class="" style="width: 100px;" src="./assets/img/ap-logo.svg" alt="logo">
          </a>
        </h2>
        <!-- Sample menu definition -->
        <ul id="main-menu" class="sm sm-blue text-r-1-4-1">
          <li class="li-padding"><a href="#">COLLECTIONS</a>
            <ul>
              <li><a href="./collections.html">Kangaroo Island Eucalyptus</a></li>
              <li><a href="./riverlandOrange.html">Riverland Orange</a></li>
              <li><a href="./organicLigurianHoney.html">Organic Ligurian Honey</a></li>
              <li><a href="./mtMacedonRose.html">Mt Macedon Rose</a>
              <li><a href="./tasmanianLavender.html">Tasmanian Lavender</a>
              <li><a href="./lordHoweIsland.html">Lord Howe Island</a>
              </li>
            </ul>
          </li>
          <li class="li-padding"><a href="./policy-content.html">POLICY</a></li>
          <li class="li-padding"><a href="./contact-us.html">CONTACT US</a></li>
          <li class="li-padding login-btn-block"><a href="#">ＭEMBERSHIP</a>
            <ul>
              <li><a href="./userInfo.html">My Profile</a></li>
              <li><a href="./order-history.html">Order History</a></li>
              <li><a href="./login.html">Log out</a></li>
          </li>
        </ul>
        </li>
        <div class="ap-nav-margin"></div>
        <!-- <li><a href="#">
              <img src="./assets/icon/icon-Search.svg" alt="icon-search">
            </a>
          </li>
          <li class="menu-right-login"><a href="./login.html">
              <img src="./assets/icon/Icon-Login.svg" alt="icon-login">
            </a>
          </li>
          <li><a href="#">
              <img src="./assets/icon/Icon-Cart.svg" alt="Icon-Cart">
            </a>
          </li> -->
        </ul>
        <span class="menu-right" style="top: 10px;">
          <li>
            <div id="searchToggle" onclick="searchToggle()">
              <img src="./assets/icon/icon-Search.svg" alt="icon-search">
            </div>
          </li>
          <li class="menu-right-login dropdown">
            <a href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">
              <img src="./assets/icon/Icon-Login.svg" alt="icon-login">
            </a>
            <div class="dropdown-menu login-all-box" aria-labelledby="dropdownMenuLink">
              <span class="login-triangle"></span>
              <a class="dropdown-item" href="./userInfo.html">My Profile</a>
              <a class="dropdown-item" href="./order-history.html">Order History</a>
              <a class="dropdown-item" href="./login.html">Log out</a>
            </div>
          </li>
          <li><a href="#">
              <img src="./assets/icon/Icon-Cart.svg" alt="Icon-Cart">
              <a class="cart"><span>0</span></a>
            </a>
          </li>
        </span>
      </nav>
    </div>
  </header>
  <!-- search box -->
  <div class="container" id="searchBoxOpen">
    <div class="d-flex justify-content-center search-box" style="position: relative;">
      <form action="/action_page.php" class="col-lg-10 col-sm-12 d-flex justify-content-center input-group">
        <input class="searchbar-box" type="text" placeholder=" " name="search">
        <button class="searchbar-box-btn ap-primary-btn text-r-1-4-1" type="button">SEARCH</button>
      </form>
    </div>
  </div>
  <!-- search box -->
  <!-- header end -->
  <!-- content start -->
  <div class="container mt-4 mb-4">
    <!-- cart form start -->
    <div class="container">
      <!-- TOP TABS -->
      <!-- Nav tabs -->
      <ul class="nav nav-pills mb-3 d-flex justify-content-between" id="pills-tab" role="tablist">
          <li class="nav-item">1. Check Out
            <a class="nav-link" id="pills-checkOut-tab" data-toggle="pill" href="#pills-checkOut" role="tab" aria-controls="pills-checkOut" aria-selected="true"> </a>
          </li>
          <li class="nav-item">2. Shipping & Billing
            <a class="nav-link" id="pills-shippingBilling-tab" data-toggle="pill" href="#pills-shippingBilling" role="tab" aria-controls="pills-shippingBilling" aria-selected="false"></a>
          </li>
          <li class="nav-item">3. Order Confirmation
            <a class="nav-link" id="pills-orderConfirmation-tab" data-toggle="pill" href="#pills-orderConfirmation" role="tab" aria-controls="pills-orderConfirmation" aria-selected="false"></a>
          </li>
          <li class="nav-item">4. Done !
              <a class="nav-link" id="pills-done-tab" data-toggle="pill" href="#pills-done" role="tab" aria-controls="pills-done" aria-selected="false"></a>
            </li>
        </ul>
        <div class="tab-content" id="pills-tabContent">
          <!-- step 1 start -->
          <div class="tab-pane fade show active" id="pills-checkOut" role="tabpanel" aria-labelledby="pills-checkOut-tab">
              <div class="container-fluid">
                  <h3 class="mt-2">Your order:</h3>
                  <table class="table">
                    <tbody>
                      <tr>
                        <td class="td-padding">360 Pass</td>
                        <td class="td-padding"><span>100 &euro;</span></td>
                        <td class="text-center td-padding"><span id="t1_pocet">0</span></td>
                        <td class="text-right">
                          <button class="btn" id="t1_minus" onclick="calculate(t1,'minus')">-</button>
                          <button class="btn" id="t1_plus" onclick="calculate(t1,'plus')">+</button>
                        </td>
                      </tr>
                      <tr>
                        <td class="td-padding">Summit Pass</td>
                        <td class="td-padding"><span>350 &euro;</span></td>
                        <td class="text-center td-padding"><span id="t2_pocet">0</span></td>
                        <td class="text-right">
                          <button class="btn" id="t2_minus" onclick="calculate(t2,'minus')">-</button>
                          <button class="btn" id="t2_plus" onclick="calculate(t2,'plus')">+</button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                  <hr>
                  <b>Total amount: <span id="amount"></span> &euro;</b>
                  <hr>
                  <div class="text-right">
                    <button id="continue" class="btn btn-success" disabled> CONTINUE </button>
                  </div>
      
                </div>
          </div>
          <!-- step 1 end -->
          <!-- step 2 start -->
          <div class="tab-pane fade" id="pills-shippingBilling" role="tabpanel" aria-labelledby="pills-shippingBilling-tab">...</div>
          <!-- step 2 end -->
          <!-- step 3 start -->
          <div class="tab-pane fade" id="pills-orderConfirmation" role="tabpanel" aria-labelledby="pills-orderConfirmation-tab">...</div>
          <!-- step 3 end -->
          <!-- step 4 start -->
          <div class="tab-pane fade" id="pills-done" role="tabpanel" aria-labelledby="pills-done-tab">
              <section class="d-flex justify-content-center row">
                <div class="mt-2 mb-2" style="width: 200px;">
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 130.2 130.2">
                      <circle class="path circle" fill="none" stroke="#73AF55" stroke-width="6" stroke-miterlimit="10" cx="65.1" cy="65.1" r="62.1" />
                      <polyline class="path check" fill="none" stroke="#73AF55" stroke-width="6" stroke-linecap="round" stroke-miterlimit="10" points="100.2,40.2 51.5,88.8 29.8,67.5 " />
                  </svg>
                </div>
                  <p class="col-10 success" style="text-align: center;">Order placed successfully. Your order will be dispatched soon.</p>
              </section>
          </div>
          <!-- step 4 end -->
        </div>
  <!-- Tab panes -->
      <ul id="tabs" class="nav nav-pills nav-justified">
        <li class="active">
          <a href="#tab1" data-toggle="tab" class="inactiveLink">
            Order Summary
            <span id="ok-icon" class="glyphicon glyphicon-ok hidden"></span>
          </a>
        </li>
        <li>
          <a href="#tab2" data-toggle="tab" class="inactiveLink">Shipping & Billing</a>
        </li>
        <li>
          <a href="#tab3" data-toggle="tab" class="inactiveLink">Order Confirmation</a>
        </li>
      </ul>
      <div class="tab-content">
        <!-- FIRST TAB -->
        <div class="tab-pane active" id="tab1">
          <div class="container-fluid">
            <h3>Your order:</h3>
            <table class="table">
              <tbody>
                <tr>
                  <td class="td-padding">360 Pass</td>
                  <td class="td-padding"><span>100 &euro;</span></td>
                  <td class="text-center td-padding"><span id="t1_pocet">0</span></td>
                  <td class="text-right">
                    <button class="btn" id="t1_minus" onclick="calculate(t1,'minus')">-</button>
                    <button class="btn" id="t1_plus" onclick="calculate(t1,'plus')">+</button>
                  </td>
                </tr>
                <tr>
                  <td class="td-padding">Summit Pass</td>
                  <td class="td-padding"><span>350 &euro;</span></td>
                  <td class="text-center td-padding"><span id="t2_pocet">0</span></td>
                  <td class="text-right">
                    <button class="btn" id="t2_minus" onclick="calculate(t2,'minus')">-</button>
                    <button class="btn" id="t2_plus" onclick="calculate(t2,'plus')">+</button>
                  </td>
                </tr>
                <tr>
                  <td class="td-padding">VIP Summit Pass</td>
                  <td class="td-padding"><span>800 &euro;</span></td>
                  <td class="text-center td-padding"><span id="t3_pocet">0</span></td>
                  <td class="text-right">
                    <button class="btn" id="t3_minus" onclick="calculate(t3,'minus')">-</button>
                    <button class="btn" id="t3_plus" onclick="calculate(t3,'plus')">+</button>
                  </td>
                </tr>
              </tbody>
            </table>
            <hr>
            <b>Total amount: <span id="amount"></span> &euro;</b>
            <hr>
            <div class="text-right">
              <button id="continue" class="btn btn-success" disabled> CONTINUE </button>
            </div>

          </div>
          <!-- end container fluid -->
        </div>
        <!-- end Tab1 content -->

        <div class="tab-pane" id="tab2">
          <div class="container-fluid">
            <h3>Confirm your order:</h3>
            <hr>
            <div class="row">
              <label for="name" class="col-sm-4 p-top text-right">Name</label>
              <div class="col-sm-6">
                <input type="text" class="form-control" name="name" placeholder="Full name" required>
                <div class="help-block with-errors"></div>
              </div>
            </div>

            <div class="row">
              <label for="email" class="col-sm-4 p-top text-right">Email</label>
              <div class="col-sm-6">
                <input type="email" class="form-control" name="email" placeholder="yourname@gmail.com" required>
                <div class="help-block with-errors"></div>
              </div>
            </div>

            <div class="row">
              <label for="payment" class="col-sm-4 p-top text-right">Payment Method</label>
              <div class="col-sm-4">
                <select class="form-control" name="payment">
                  <option value="Invoice">Invoice</option>
                  <option value="Credit card">Credit card</option>
                </select>
              </div>
            </div>

            <div class="form-group">
              <div id="listed_t1" class="hidden listed paddingLF">
                <h4>360 pass tickets:</h4>
              </div>
              <div id="listed_t2" class="hidden listed paddingLF">
                <h4>Summit pass tickets:</h4>
              </div>
              <div id="listed_t3" class="hidden listed paddingLF">
                <h4>VIP pass tickets:</h4>
              </div>
            </div>

            <!-- Tady jsou skryte inputy -->
            <div class="form-group hidden">
              <input id="total_amount" type="number" name="total_amount" value="0">
              <input id="t1_amount" type="number" name="t1_amount" value="0">
              <input id="t2_amount" type="number" name="t2_amount" value="0">
              <input id="t3_amount" type="number" name="t3_amount" value="0">
            </div>

            <hr>
            <div class="row paddingLF">
              <div class="text-left buttons-wrapper pull-left">
                <button id="back" type="button" class="btn btn-warning">BACK</button>
              </div>
              <div class="text-right buttons-wrapper pull-right">
                <button id="submit_details" type="submit" class="btn btn-success">SEND</button>
              </div>
            </div>

          </div>
          <!-- end container-fluid -->
        </div>
        <!-- end tab-content -->
      </div>
      <!--  end container -->
      <!-- cart form end -->
    </div>
    <!-- content end -->
    <!-- footer start -->
    <div class="text-center footer-box text-r-1-3-1">
      <p> ©2019 Aussie Premier. All rights reserved. </p>
    </div>
    <!-- footer end -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="./dist/js/popper.min.js"></script>
    <script src="./dist/js/bootstrap.min.js"></script>
    <script src="./dist/js/purecookie.js"></script>
    <script src="./dist/js/jquery.smartmenus.js"></script>
    <!-- <script src="./dist/js/all.min.js"></script> -->
    <script src="./dist/js/all.js"></script>
    <script>
      /* when jQuery laods */
      $(document).ready(function () {
        /* click on back button - will do reset and removal of previously appended children */
        $('#back').on('click', function () {
          $('li.active').filter('.active').prev('li').find('a[data-toggle="tab"]').tab('show');
          $('li').find('a[data-toggle="tab"]').removeClass('btn-success');
          $('#ok-icon').addClass('hidden');
          total_tickets = 0;
          $('#listed_t1').addClass('hidden').children().not('h4').remove();
          $('#listed_t2').addClass('hidden').children().not('h4').remove();
          $('#listed_t3').addClass('hidden').children().not('h4').remove();
          render();
        });
        /* click on continue button */
        $('#continue').on('click', function () {
          if (total_tickets > 0) {
            $('li.active').filter('.active').next('li').find('a[data-toggle="tab"]').tab('show');
            $('li').find('a[data-toggle="tab"]').addClass('btn-success');
            $('#ok-icon').removeClass('hidden');
            addTicketList(t1);
            addTicketList(t2);
            addTicketList(t3);
          }
        });
        render();
      });
      /* VARIABLES */
      var total = 0;         // total amount to be paid
      var total_tickets = 0; // total amount of tickets
      var t1 = { id: 't1', pocet: 0, hodnota: 100 }; // ticket 1st category
      var t2 = { id: 't2', pocet: 0, hodnota: 350 }; // ticket 2nd category
      var t3 = { id: 't3', pocet: 0, hodnota: 800 }; // ticket 3rd category

      /* perform either adding or substracting on a provided object */
      calculate = function (object, action) {
        if (action === 'plus') {
          total += object.hodnota;
          object.pocet++;
        } else if ((action === 'minus') && (object.pocet > 0)) {
          total -= object.hodnota;
          object.pocet--;
        }
        render();
      }

      /* recalculate and display numbers + assigning hidden inputs */
      render = function () {
        total_tickets = t1.pocet + t2.pocet + t3.pocet;
        $('#amount').html(total.toFixed(0));
        $('#t1_pocet').html(t1.pocet); $('#t2_pocet').html(t2.pocet); $('#t3_pocet').html(t3.pocet);
        /* assigning hidden inputs */
        $('#total_amount').html(total.toFixed(0));
        $('#t1_amount').html(t1.pocet); $('#t2_amount').html(t2.pocet); $('#t3_amount').html(t3.pocet);

        if (total_tickets > 0) {
          $('#continue').prop('disabled', false);
        } else {
          $('#continue').prop('disabled', true);
        }
      }

      /* add a list of tickets if multiple tickets are selected, argument is a ticket category */
      addTicketList = function (objekt) {
        if (objekt.pocet > 1 || total_tickets > 1) {
          for (var i = 0; i < objekt.pocet; i++) {
            $('#listed_' + objekt.id).removeClass('hidden').append(insert(i + 1));
          }
        }
      }

      /* insert a row if multiple ticket are selected, argument passed is a ticket count (for that section) */
      var insert = function (num) {
        return (
          "<div class='row'>" +
          "<div class='col-xs-1'><label for='row' class='p-top'><span class='ticket_span'>" + num + "#</span></label></div>" +
          "<div class='col-xs-5'><input type='text' class='form-control' name='names[]' placeholder='Full name' required></div>" +
          "<div class='col-xs-6'><input type='email' class='form-control' name='emails[]' placeholder='anothername@gmail.com' required></div>" +
          "</div>");
      }
    </script>

</html>